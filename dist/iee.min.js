/**!
 * Iee.js version 1.0.0
 * (c) 2014-2018 Harrison DeStefano
 * @license Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Iee=e()}(this,function(){"use strict";var e={component:void 0,dispatcherOrigin:"*",receiverOrigin:"*",silent:!0},n={};function i(t){return n[t]}function o(t){i("silent")||console.warn(new Date,"\n",t)}var r=["created","mounted"],c=[];function f(t,e){void 0!==c[t]&&c[t].callback.apply(this,[e])}function a(t,e,n){try{if(!e)throw new Error("attempt to register "+t+" hook without callback");if(void 0!==c[t])throw new Error("attempt to re-register "+t);c[t]={callback:e},n&&(c[t].lifecycle="register")}catch(t){o(t)}}function u(t){return t?c[t]:c}function s(){var e,t,n;e=function(t){"function"==typeof t&&t.apply(this,[t])},r.forEach(function(t){try{a(t,e,!0)}catch(t){o(t)}}),f(t="created",function(){c[t].lifecycle=!0}),f(n="mounted",function(){c[n].lifecycle=!0})}var p=window.parent;function d(t){try{if(!t)throw new Error("attempt to dispatch without payload");if(!t.event)throw new Error("attempt to dispatch without defining an event");p.postMessage(t,i("receiverOrigin"))}catch(t){o(t)}}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t=[{type:"message",listener:function(t){if(!function(t){var e=i("dispatcherOrigin");if("string"==typeof e&&"*"===e)return!0;if("object"===(void 0===e?"undefined":y(e)))for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return o("received untrused message from "+t),!1}(t.origin))return;if(t.data)try{(function(t){for(var e=y(t.data),n=0;n<m.length;n++)if(m[n]===e)return!0;return!1})(t)&&!0===u("created").lifecycle&&!0===u("mounted").lifecycle&&(o(t),function(t,e){try{var n=new Event(t);Object.assign(n,e),l.dispatchEvent(n)}catch(t){o(t)}}(t.data.event,t.data))}catch(t){o(t)}}},{type:"build",listener:v}],l=window;function h(){a("received",function(t){"function"==typeof t&&t.apply(this,[t])}),t.forEach(function(t){try{v(t.type,t.listener)}catch(t){o(t)}})}function v(t,e){try{l.addEventListener(t,e)}catch(t){o(t)}}var m=["string","object"];function g(){var t;t=this,n=Object.assign(e,t),s(),a("dispatched",function(t){"function"==typeof t&&t.apply(this,[t])}),h()}return function(t){g.apply(t),"dispatcher"===t.component?this.message=d:"receiver"===t.component?this.on=v:o("did you register a component?")}});
